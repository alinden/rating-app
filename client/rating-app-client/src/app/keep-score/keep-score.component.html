<mat-card class="card">
  <div class="card-header">
    <div class="avatar-container">
      <img class="avatar" src="/assets/{{league.entity.image}}">
    </div>
    <span class="title">
      {{ league.entity.name | titlecase}}
    </span>
  </div>

  <mat-card-content [ngSwitch]="mode">

    <div *ngSwitchCase="'game'" class="keep-score-content">
      <mat-grid-list cols="2" rowHeight="fit">
        <mat-grid-tile>
          <div id="scorecard">

            <div class="card-item-row">
              <div id="players">
                <div class="player-one">
                  <div class="avatar-container">
                    <img class="avatar" src="/assets/{{ liveGame.players[0].user.entity.image }}">
                  </div>
                  <span class="subtitle">{{liveGame.players[0].user.entity.name | titlecase}}</span>
                  <span class="rating">{{liveGame.players[0].rating.entity.new_rating }}</span>
                </div>
                <div class="player-two">
                  <div class="avatar-container">
                    <img class="avatar" src="/assets/{{liveGame.players[1].user.entity.image}}">
                  </div>
                  <span class="subtitle">{{liveGame.players[1].user.entity.name | titlecase}}</span>
                  <span class="rating">{{liveGame.players[1].rating.entity.new_rating }}</span>
                </div>
              </div>
            </div>

            <app-cricket-scoreboard-row [scores]="liveGame.state.twentyScores"
                                        [shots]="liveGame.state.twenties">
            </app-cricket-scoreboard-row>

            <app-cricket-scoreboard-row [scores]="liveGame.state.nineteenScores"
                                        [shots]="liveGame.state.nineteens">
            </app-cricket-scoreboard-row>

            <app-cricket-scoreboard-row [scores]="liveGame.state.eightteenScores"
                                        [shots]="liveGame.state.eightteens">
            </app-cricket-scoreboard-row>

            <app-cricket-scoreboard-row [scores]="liveGame.state.seventeenScores"
                                        [shots]="liveGame.state.seventeens">
            </app-cricket-scoreboard-row>

            <app-cricket-scoreboard-row [scores]="liveGame.state.sixteenScores"
                                        [shots]="liveGame.state.sixteens">
            </app-cricket-scoreboard-row>

            <app-cricket-scoreboard-row [scores]="liveGame.state.fifteenScores"
                                        [shots]="liveGame.state.fifteens">
            </app-cricket-scoreboard-row>

            <app-cricket-scoreboard-row [scores]="liveGame.state.bullseyeScores"
                                        [shots]="liveGame.state.bullseyes">
            </app-cricket-scoreboard-row>

            <div class="card-item-row">
              <div id="players">
                <div class="player-one-score">
                  <span class="total-score">
                    {{ liveGame.state.scores[0] }}
                  </span>
                </div>
                <div class="player-two-score">
                  <span class="total-score">
                    {{ liveGame.state.scores[1] }}
                  </span>
                </div>
              </div>
            </div>

          </div>
        </mat-grid-tile>

        <mat-grid-tile>
          <div id="enter-score">

            <div id="enter-score-summary" class="card-item-row">
              <span  *ngIf="liveGame.isOver">
                Game Over. {{ liveGame.winner.entity.name }} is the winner!
              </span>

              <span  *ngIf="!liveGame.isOver">
                {{ liveGame.players[liveGame.state.turnIndex].user.entity.name }} 's Turn: {{ liveGame.state.shotsRemaining }} darts remaining
              </span>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-score-cell-left" (click)="recordShot({ value: 20, count: 1})">
                <span >
                  20 *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 20, count: 2})">
                <span >
                  20 * *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 20, count: 3})">
                <span >
                  20 * * *
                </span>
              </div>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-score-cell-left" (click)="recordShot({ value: 19, count: 1})">
                <span >
                  19 *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 19, count: 2})">
                <span >
                  19 * *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 19, count: 3})">
                <span >
                  19 * * *
                </span>
              </div>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-score-cell-left" (click)="recordShot({ value: 18, count: 1})">
                <span >
                  18 *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 18, count: 2})">
                <span >
                  18 * *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 18, count: 3})">
                <span >
                  18 * * *
                </span>
              </div>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-score-cell-left" (click)="recordShot({ value: 17, count: 1})">
                <span >
                  17 *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 17, count: 2})">
                <span >
                  17 * *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 17, count: 3})">
                <span >
                  17 * * *
                </span>
              </div>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-score-cell-left" (click)="recordShot({ value: 16, count: 1})">
                <span >
                  16 *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 16, count: 2})">
                <span >
                  16 * *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 16, count: 3})">
                <span >
                  16 * * *
                </span>
              </div>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-score-cell-left" (click)="recordShot({ value: 15, count: 1})">
                <span >
                  15 *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 15, count: 2})">
                <span >
                  15 * *
                </span>
              </div>
              <div class="cricket-enter-score-cell" (click)="recordShot({ value: 15, count: 3})">
                <span >
                  15 * * *
                </span>
              </div>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-bull-cell-left" (click)="recordShot({ value: 25, count: 1})">
                <span >
                  Bull *
                </span>
              </div>
              <div class="cricket-enter-bull-cell" (click)="recordShot({ value: 25, count: 2})">
                <span >
                  Bull * *
                </span>
              </div>
            </div>

            <div class="card-item-row">
              <div class="cricket-enter-bull-cell-left" (click)="recordShot({ value: 0, count: 1})">
                <span >
                  Miss
                </span>
              </div>
              <div class="cricket-enter-bull-cell" (click)="recordShot({ value: 0, count: 1})">
                <span >
                  Next Turn
                </span>
              </div>
            </div>


          </div>
        </mat-grid-tile>

      </mat-grid-list>
    </div>

    <div *ngSwitchCase="'lag'">
      <form id="lag-form">
        <mat-form-field>
          <mat-select placeholder="Player One" [(ngModel)]="playerOneId" name="playerOne">
            <mat-option *ngFor="let user of client.users" [value]="user.id">
              {{user.entity.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-select placeholder="Player Two" [(ngModel)]="playerTwoId" name="playerTwo">
            <mat-option *ngFor="let user of client.users" [value]="user.id">
              {{user.entity.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </div>

  </mat-card-content>

  <mat-card-actions [ngSwitch]="mode" align="end">

    <div *ngSwitchCase="'game'">
      <div *ngIf="liveGame.isOver">
        <button mat-button class="action-button" (click)="saveGame()">
          Save
        </button>
      </div>
      <button mat-button class="action-button" (click)="cancelGame()">
        Cancel
      </button>
    </div>

    <div *ngSwitchCase="'lag'">
      <button mat-button class="action-button" (click)="recordLag()">
        Start
      </button>
    </div>

  </mat-card-actions>
</mat-card>
